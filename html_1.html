<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">
		<link href="static/css/style.css" rel="stylesheet" media="all">
		<meta charset="utf-8">
		<title>Ссылкоукоротитель</title>
	</head>
	<body>
	<div class="container-fluid"><img id="image" src="header.jpeg" width="340px" height="120px"></div>
	<div class="container">
	<!--<div id="z" class="header-img"></div>
	<div class="header-img"></div>-->
	<h1>Ссылкоукоротитель</h1>
	<p>Введите ссылку, которую хотите укоротить</p>
	<div id="main">
		<form method="POST" action="/url" id="send-form">

	  <div class="form-group row">
	    <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
	    <div class="col-sm-10">
	      <input placeholder="Введите Email" type="Email" class="form-control" id="staticEmail">
	    </div>
	  </div>
	  <progress max="100" value="0" id="meter"></progress>
	  <div class="form-group row">
	    <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
	    <div class="col-sm-10">
	      <input type="password" placeholder="Введите Password" class="form-control" id="inputPassword">
	      <div class="textbox"></div>
	    </div>
	  </div>


			<label for="url">URL</label>
			<input placeholder="Введите URL" class="form-control" id="url" type="url" name="url" />
			
			<input type="submit" class="btn btn-primary" value="Отправить" />

		</form>
		<script type="text/javascript">  function validURL(str) {
  var pattern = new RegExp('^(https?:\\/\\/)?'+ // protocol
    '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // domain name
    '((\\d{1,3}\\.){3}\\d{1,3}))'+ // OR ip (v4) address
    '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ // port and path
    '(\\?[;&a-z\\d%_.~+=-]*)?'+ // query string
    '(\\#[-a-z\\d_]*)?$','i'); // fragment locator
  return !!pattern.test(str);
}



document.addEventListener("keypress", function (event){
if (event.code == "Enter") return false  
})

function noenter() {
  return !(window.event && window.event.keyCode == 13); }
var code
=document.getElementById("inputPassword");

var strengthbar= document.getElementById("meter");

code.addEventListener("keyup", function(){checkpassword(code.value)

    })
var display =document.getElementsByClassName("textbox")[0];
    function checkpassword(password)
    {
    var strength=0;
    if (password.match(/[a-z]+/)){
        strength+=1;
    }
    if (password.match(/[A-Z]+/)){
        strength+=1;
    }
    if (password.match(/[0-9]+/)){
        strength+=1;
    }
    if (password.match(/[$@#&!]+/)){
        strength+=1;

        }
    if (password.length<6){
    display.innerHTML="minimum number of characters is 6";
    }

    if (password.length>12){
            display.innerHTML="maximum number of characters is 12";
}
    switch(strength){
    case 0:
        strengthbar.value=0;
        break;

    case 1:
        strengthbar.value=25;
        break;

    case 2:
        strengthbar.value=50;
        break;

    case 3:
        strengthbar.value=75;
        break;

    case 4:
        strengthbar.value=100;
        break; }
}
let url_form = document.getElementById ("send-form");
	url_form.addEventListener("submit", function(event) {
		let url_input = document.getElementById("url");
		let value = url_input.value;
		if (validURL(value) === true) {return true} else return false;
	} )</script>
		</div>
	</div>
	<footer>copyrigth &copy; 2020</footer>
</body>
</html>
